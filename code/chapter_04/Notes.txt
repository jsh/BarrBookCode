The code in this directory now works for me.

You should be able to read chapter 4 of the Barr book and run these example programs from it without a hiccup.

If you do have problems, please fix them and tell me how you did it.  Even better, just check in your fixes into GitHub.

Most Scripts Run from Command Line
-----------------------------------

I've converted the scripts to work with the AWSSDKforPHP toolkit.  Most will now run correctly from the command line. 

Some scripts required minor bug fixes to run correctly.  In other cases, there are now easier ways to do the programs, but I've avoided the temptation to fix them if the current versions work. My goal is to minimumize changes, and maximize compatibility with the book.

The book will tell you to set BOOK_BUCKET in include/book.inc.php.  Don't bother. All scripts let you specify a bucket on the command line.

One conversion that does not work correctly, yet, is calls to create_object() that try to set the acl.
I couldn't get those to work. The documentation says to convert the global constants, S3_ACL_*, to class constants -- either AmazonS3::ACL_* or $s3::ACL_* depending on where you read. I tried, but probably just don't know enough PHP.

I modified the call in book.inc.php to ignore that parameter and take the default, ACL_PRIVATE. Lazy? You bet.

If you can fix this, and make it work the way it should, please do.

Three Scripts Don't Work from the Command Line
----------------------------------------------

Some scripts in this directory aren't meant to be run from the command line.

list_bucket_objects_page.php
list_bucket_objects_page_thumbs.php
list_buckets_page.php

They have no shebang (#!) line, and their names all have "_page".  They generate web pages.

Making the "_page" Scripts Work
-------------------------------

+ install a web browser

sudo apt-get install apache2

There's instructions, hither and yon, on how to get web servers all set up. I won't duplicate that effort. Google's your friend.

+ put the required files into /var/www

cd code/chapter_04
sudo cp -r include *_page* /var/www

+ Once you have buckets, and objects in them, go visit these pages in your browser

firefox http://localhost/list_buckets_page.php
firefox http://localhost/list_bucket_objects_page.php?bucket=<your-bucket-name-here>


Is there a better way to do all this? Show me how.
